<!--

The top portion of this html file is a prewritten file that is then merged with a generated html file to display the syntax
highlighting for a specific language

-->

<!DOCTYPE html>
<html>
    <head>
        <title>Test file</title>
        <style type="text/css">
			/* https://github.com/shadowscion/Expression2-Sublime/blob/master/Expression2.tmTheme */
			body {
				font-family:'Courier New',monospace;
				width: max-width;
			}
			div {
				white-space: nowrap;
			}
			.condition {
				color: #a0f0f0
			}
			.directive { 
				color: #f0f0a0
			}
			.string {
				color: #808080
			}
			.number {
				color: #f0a0a0
			}
			.comment {
				color: #808080
			}
			.mlcomment {
				color: #808080
			}
			.variable {
				color: #a0f0a0
			}
			.function {
				color: #a0a0f0
			}
			.symbol {
				color: #e0e0e0
			}
			.space {
				color: #FF00FF /* means that something is wrong! */
			}
			.type {
				color: #f0a060; /* #f0a060  for some reason I have it set to a0a0f0*/
			}
			.bg {
				background-color: #1a1a1a;
				line-height: 0.7;
			}
			.nl {
				color: #FFFFFF
			}
        </style>
    </head>

    <body class="bg">

<!--
The following section was generated using a text to html parser, which takes the E2 code and stylizes it into html so it will
look better on a webpage.
-->

<div><span class="space"></span><span class="directive">@name MayOS v2</span></div><br>
<div><span class="space"></span><span class="directive">@inputs</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="type">wirelink</span><span class="space"> </span><span class="variable">KeysIn</span><span class="symbol">:</span><span class="type">wirelink</span><span class="space"> </span><span class="variable">KeyHit</span><span class="space"> </span><span class="variable">KeysInUse</span><span class="space"> </span><span class="variable">User</span><span class="symbol">:</span><span class="type">entity</span></div><br>
<div><span class="space"></span><span class="directive">@outputs</span><span class="space"> </span><span class="variable">Kick</span></div><br>
<div><span class="space"></span><span class="directive">@persist</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">:</span><span class="type">table</span><span class="space"> </span><span class="variable">Scr</span><span class="symbol">:</span><span class="type">entity</span><span class="space"> </span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="type">entity</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="type">string</span><span class="space"> </span><span class="variable">TypePos</span><span class="space"> </span><span class="variable">Scroll</span><span class="space"> </span><span class="variable">Text</span><span class="symbol">:</span><span class="type">table</span><span class="space"> </span><span class="variable">MP</span><span class="space"> </span><span class="variable">Update</span><span class="symbol">:</span><span class="type">table</span><span class="space"> </span><span class="variable">HeldKey</span><span class="space"> </span><span class="variable">KeyToCheck</span><span class="symbol">:</span><span class="type">string</span></div><br>
<div><span class="space"></span><span class="directive">@persist</span><span class="space"> </span><span class="variable">Disp</span><span class="symbol">:</span><span class="type">table</span><span class="space"> </span><span class="symbol">[</span><span class="variable">Version</span><span class="space"> </span><span class="variable">Password</span><span class="space"> </span><span class="variable">GuestPW</span><span class="symbol">]:</span><span class="function">string</span><span class="space"> </span><span class="variable">HorizScroll</span><span class="space"> </span><span class="variable">LastUser</span><span class="symbol">:</span><span class="type">entity</span><span class="space"> </span><span class="variable">LastWep</span><span class="symbol">:</span><span class="type">string</span><span class="space"> </span><span class="variable">Log</span><span class="symbol">:</span><span class="type">array</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">:</span><span class="type">table</span><span class="space"> </span><span class="variable">UID</span></div><br>
<div><span class="space"></span><span class="directive">@model </span></div><br>
<div><span class="space"></span></div><br>
<div><span class="space"></span><span class="condition">if</span><span class="symbol">(</span><span class="function">first</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Password</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"poopy"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">GuestPW</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"guest"</span></span></div><br>
<div><span class="space"></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">MP</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="comment"># MAX PERF</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Version</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"2.052"</span> </span><span class="comment"># Messing with this may cause the E2 to want to update.</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Update</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"URL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"https://pastebin.com/raw/9nqwQ74S"</span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewURL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#Update["Updated",string] = "2020/12/31" # use yyyy/mm/dd</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"Creator"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"ElMico"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">UID</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">random</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="mlcomment">#[</span></div><br>
<div><span class="mlcomment"></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>###########<span style="margin-left:15.0px"></span>Changelog:<span style="margin-left:15.0px"></span>###############</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.052</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Feb 06, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added "!summon" command</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added locations, items, containers, and pathways to Zork!</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.051</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Feb 05, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Made 2048 spawn 4s occasionally</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>(And I got a new high score)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Began work on Minesweeper2 (will have larger board sizes)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Began work on Zork</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.05</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Feb 01, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Improved code ordering</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Tic-Tac-Toe fixes and improvements</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.04</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Jan 31, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added 2048</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added multiplayer Tic-Tac-Toe</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.03</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Jan 30, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Improved keyboard input</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added Score and Next for Tetris</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added remote command ability using "!cmd <command>" in chat</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Fixed error when updating caused by untrimmed URL request</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.02 </span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Jan 29, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Introduced autocomplete</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>v2.01 </span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Jan 28, 19</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Auto updating</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Added Tetris highlight</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>First Minesweeper click never a mine.</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>###########<span style="margin-left:15.0px"></span>Known Bugs:<span style="margin-left:15.0px"></span>#############</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Tetris: sometimes you can spin into blocks and into the ground.</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>###########<span style="margin-left:15.0px"></span>Coming soon:<span style="margin-left:15.0px"></span>############</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>Minesweeper 2</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Difficulties:</span></div><br>
<div><span class="mlcomment"><span style="margin-left:80.0px"></span>H:<span style="margin-left:10.0px"></span>W:<span style="margin-left:10.0px"></span>M:</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>1:<span style="margin-left:30.0px"></span>9<span style="margin-left:15.0px"></span>9<span style="margin-left:15.0px"></span>10</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>2:<span style="margin-left:30.0px"></span>16<span style="margin-left:10.0px"></span>16<span style="margin-left:10.0px"></span>40</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>3:<span style="margin-left:30.0px"></span>16<span style="margin-left:10.0px"></span>30<span style="margin-left:10.0px"></span>99</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>###########<span style="margin-left:15.0px"></span>High scores:<span style="margin-left:10.0px"></span>#############</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>2048:</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>ElMico: 5032</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>]#</span></span></div><br>
<div><span class="space"></span></div><br>
<div><span class="space"></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Functions ##############################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">resetGame</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{}</span><span class="space"> </span><span class="comment">#prototype</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">soundI</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"SoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"SoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space">  </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"SoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]%</span><span class="number">10</span><span class="symbol">+</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"MinSoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">playSound</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Len</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">N</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">soundI</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">holoEntity</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">):</span><span class="function">soundPlay</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="variable">Path</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"StopSound "</span></span><span class="symbol">+</span><span class="variable">N</span><span class="symbol">,</span><span class="variable">Len</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">string</span><span class="space"> </span><span class="function">shortDate</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">D</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">date</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"month"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">"/"</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"day"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">"/"</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"year"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">" "</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"hour"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">":"</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"min"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">":"</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"sec"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">string</span><span class="space"> </span><span class="function">dateOnly</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">D</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">date</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"year"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"month"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="string">"/0"</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">"/"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"month"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+(</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"day"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="string">"/0"</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">"/"</span></span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">D</span><span class="symbol">[</span><span class="string">"day"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">daysSince</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># does not account for leap years</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Date</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"/"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Date</span><span class="symbol">:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="function">dateOnly</span><span class="symbol">():</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"/"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Days</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Mult</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="number">365</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">(</span><span class="number">31</span><span class="symbol">,</span><span class="number">28</span><span class="symbol">,</span><span class="number">31</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">31</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">31</span><span class="symbol">,</span><span class="space">  </span><span class="number">31</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">31</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">31</span><span class="symbol">),</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">K</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Date</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Days</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Days</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Mult</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">K</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Days</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Days</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Mult</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">Date</span><span class="symbol">[</span><span class="variable">J</span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">Days</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="variable">Days</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">logData</span><span class="symbol">(</span><span class="variable">Type</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Log</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="function">shortDate</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="string">"&&"</span></span><span class="symbol">+</span><span class="space"> </span><span class="variable">Type</span><span class="space"> </span><span class="symbol">+</span><span class="string">"&&"</span></span><span class="symbol">+</span><span class="space"> </span><span class="variable">LastUser</span><span class="symbol">:</span><span class="function">name</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="string">"&&"</span></span><span class="symbol">+</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">LoEI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">HiEI</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Group Names"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushString</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Name</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="variable">LoEI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">HiEI</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">egpAlph</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Alph</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Alph</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Alphas"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Alph</span><span class="symbol">+</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">resetEGP</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpClear</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">### The lowest thing shown in EGP</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span><span class="space"> </span><span class="comment">#backdrop I guess</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="string">"Backdrop"</span></span><span class="symbol">,</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># command prompt</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP CmdP Bars"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP CmdP Bars Col"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">18</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="space"> </span><span class="number">54</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">23</span><span class="symbol">*</span><span class="variable">I</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="space"> </span><span class="number">23</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP CmdP Bars Col"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="symbol">]*(</span><span class="variable">I</span><span class="symbol">%</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Text I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">19</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">18</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">+</span><span class="number">19</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="number">43</span><span class="symbol">+</span><span class="number">23</span><span class="symbol">*</span><span class="variable">I</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">+</span><span class="number">19</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">21</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">38</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="space"> </span><span class="number">512</span><span class="symbol">-</span><span class="number">15</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="space"> </span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">38</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">60</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">39</span><span class="symbol">,</span><span class="space"> </span><span class="string">">"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="number">485</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">39</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">25</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Type I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">40</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">40</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">17</span><span class="symbol">,</span><span class="space"> </span><span class="number">485</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">40</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">25</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">41</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">21</span><span class="symbol">,</span><span class="space"> </span><span class="number">496</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">22</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor Root"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">21</span><span class="symbol">,</span><span class="space"> </span><span class="number">496</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">41</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="string">"Command Line"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">41</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EI</span><span class="space"> </span><span class="symbol">+</span><span class="symbol">=</span><span class="space"> </span><span class="number">42</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># end command prompt</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># login screen'</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">*</span><span class="number">1</span><span class="space">.</span><span class="number">5</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">*</span><span class="number">1</span><span class="space">.</span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">128</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="string">"gui/gradient_down"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">300</span><span class="symbol">,</span><span class="number">220</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">190</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">300</span><span class="symbol">,</span><span class="number">220</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="string">"MayOS v"</span></span><span class="symbol">+</span><span class="variable">Version</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">-</span><span class="number">120</span><span class="symbol">,</span><span class="space"> </span><span class="number">256</span><span class="symbol">-</span><span class="number">105</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">30</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLine</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">-</span><span class="number">130</span><span class="symbol">,</span><span class="space"> </span><span class="number">256</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">+</span><span class="number">130</span><span class="symbol">,</span><span class="space"> </span><span class="number">256</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Please enter password:"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">-</span><span class="number">110</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">-</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">280</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">230</span><span class="symbol">,</span><span class="space"> </span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">),</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password I"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">9</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password Chars"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">11</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">10</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">9</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">-</span><span class="number">100</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">I</span><span class="symbol">*</span><span class="number">20</span><span class="symbol">,</span><span class="space"> </span><span class="number">280</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">9</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="string">"Login"</span></span><span class="symbol">,</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">19</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">20</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># end login screen</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># Application data</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">799</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">800</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># end Application data</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">### Last things drawn</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">20</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="space"> </span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,-</span><span class="number">40</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="space"> </span><span class="number">160</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/gradient_down"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="string">"MayOS"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">35</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Version I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="string">"v"</span></span><span class="symbol">+</span><span class="variable">Version</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">507</span><span class="symbol">,</span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">35</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Mayo"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">120</span><span class="symbol">,</span><span class="number">21</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="number">23</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="number">10</span><span class="symbol">))</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParent</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,-</span><span class="number">13</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="number">4</span><span class="symbol">))</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParent</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLine</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">39</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="number">39</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">egpCreateGroup</span><span class="symbol">(</span><span class="string">"Header"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">8</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">hint</span><span class="symbol">(</span><span class="string">"Expected "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" objects."</span></span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Col</span><span class="symbol">:</span><span class="function">vector</span><span class="symbol">,</span><span class="space"> </span><span class="variable">LapSpace</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewAr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="mlcomment">#[ Way 1</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>NewAr:pushString( Str:sub(1, 45) )</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>local GetI = 46</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>for(I = 2, ceil(Str:length()/(45-LapSpace))) {</span></div><br>
<div><span class="mlcomment"><span style="margin-left:80.0px"></span>NewAr:pushString(" ":repeat(LapSpace) + Str:sub( GetI, GetI+44-LapSpace) )</span></div><br>
<div><span class="mlcomment"><span style="margin-left:80.0px"></span>GetI+=(45-LapSpace)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>}</span></div><br>
<div><span class="mlcomment"><span style="margin-left:60.0px"></span>#]#</span> </span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">StrEx</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Str</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Len</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">removeString</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">46</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">LapSpace</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">46</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">LapSpace</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="space"> </span><span class="symbol">(</span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]):</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisSetLen</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="symbol">(</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">46</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="symbol">(</span><span class="variable">ThisSetLen</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">AddOn</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">LapSpace</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">45</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">46</span><span class="symbol">-</span><span class="variable">AddOn</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ThisSet</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">StrEx</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">:</span><span class="function">repeat</span><span class="symbol">(</span><span class="variable">AddOn</span><span class="symbol">)</span><span class="symbol">+</span><span class="variable">ThisSet</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">NewAr</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">insertArray</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="variable">NewAr</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Col</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">insertArray</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">,</span><span class="variable">Col</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Col</span><span class="symbol">:</span><span class="function">vector</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Col</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">),</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">updateConsole</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">19</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">+</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP CmdP Bars"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP CmdP Bars Col"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="symbol">]*</span><span class="space"> </span><span class="symbol">(</span><span class="space"> </span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Scroll</span><span class="symbol">%</span><span class="number">2</span><span class="symbol">))%</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Txt</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">+</span><span class="variable">Scroll</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Text I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">19</span><span class="symbol">-</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Txt</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Text I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">19</span><span class="symbol">-</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">+</span><span class="variable">Scroll</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Text I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">18</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Text I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">18</span><span class="symbol">,</span><span class="string">"..."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">string</span><span class="space"> </span><span class="function">getLog</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">L</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Log</span><span class="symbol">[</span><span class="variable">N</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"&&"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">L</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"cmd"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" - "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" entered command: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">4</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"pw"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" - "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" attempted password: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">L</span><span class="symbol">[</span><span class="number">4</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">Log</span><span class="symbol">[</span><span class="variable">N</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">writeLog</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="function">getLog</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">),</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">writeLogs</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Log</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">writeLog</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">showGroup</span><span class="symbol">(</span><span class="variable">Group</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Group</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Group</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Alph</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Alphas"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Alph</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Alph</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="number">255</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="variable">Alph</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Alph</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">setDisplay</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRemove</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Login"</span> </span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">showGroup</span><span class="symbol">(</span><span class="string">"Login"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password Chars"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Logged in"</span> </span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment"># hide login screen</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Login"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Login"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Admin"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#if(Text["Text",table]:count() == 0) {</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"- Welcome, "</span></span><span class="symbol">+</span><span class="variable">User</span><span class="symbol">:</span><span class="function">name</span><span class="symbol">()</span><span class="symbol">+</span><span class="string">"!"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"-<span style="margin-left:10.0px"></span>Type 'help' for a list of commands."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateAvail"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"-<span style="margin-left:10.0px"></span>A new update is available!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"ShouldUpdate"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"-<span style="margin-left:10.0px"></span>It has been at least a week since the last update. You should check for a new update!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="number">5</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:115.0px"></span>Minesweeper functions - ms</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">gmsCountMines</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">M</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">YI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">-</span><span class="number">1</span><span class="space"> </span><span class="symbol">,</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">XI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">X</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">XI</span><span class="symbol">=</span><span class="symbol">=</span><span class="variable">X</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">YI</span><span class="symbol">=</span><span class="symbol">=</span><span class="variable">Y</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="condition">continue</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">XI</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">9</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">XI</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">YI</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">9</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">YI</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="condition">continue</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">XI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">YI</span><span class="symbol">*</span><span class="number">10</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">M</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">M</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">vector</span><span class="space"> </span><span class="function">gmsMineNumCol</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">)</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">2</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">128</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">4</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">128</span><span class="symbol">)</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">5</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">128</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">6</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">128</span><span class="symbol">,</span><span class="number">128</span><span class="symbol">)</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">7</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">()</span><span class="space"> <span style="margin-left:55.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">8</span><span class="symbol">,</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">)</span><span class="space"> <span style="margin-left:40.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">print</span><span class="symbol">(</span><span class="string">"Error: attempted to get color for "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">N</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" mines."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">vec</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gmsPlaceMines</span><span class="symbol">(</span><span class="variable">FX</span><span class="symbol">,</span><span class="space"> </span><span class="variable">FY</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Placed</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">while</span><span class="symbol">(!</span><span class="variable">Placed</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">randint</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">9</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">randint</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">9</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">FX</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">FY</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisTile</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">*</span><span class="number">10</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">ThisTile</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Placed</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">*</span><span class="number">10</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MinesPoss"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:95.0px"></span>Tetris Functions</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gtetShowPreview</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{}</span><span class="space"> </span><span class="comment">#prototype function</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">gtetAddBlock</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Next</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">N</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BorderBox I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Next</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CX</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">ceil</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CY</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">CX</span><span class="symbol">+</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">CY</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Pieces"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Next</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Y</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">CurI</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="function">array</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">,</span><span class="variable">Next</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">CurI</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">array</span><span class="symbol">][</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">+</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">gtetShowPreview</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="symbol">!</span><span class="variable">Hit</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gtetDrawBoard</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">*</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">I</span><span class="space">/</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">%</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">CurCol</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">IPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()-</span><span class="number">1</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()-</span><span class="number">1</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#print(IPos+Game["BlockI",number] + ", " + Game["Colors",array][CurCol,vector])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">IPos</span><span class="symbol">+</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">CurCol</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">IPos</span><span class="symbol">+</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Shortest</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10000</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#Game["Preview I",number]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">J</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">J</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Shortest</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Shortest</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()-</span><span class="number">1</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()-</span><span class="number">1</span><span class="symbol">+</span><span class="variable">Shortest</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">CurCol</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">lowerMoving</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewMoving</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">NewMoving</span><span class="symbol">:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="variable">CurPos</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="variable">CurCol</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">NewMoving</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">checkFullRows</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Fulls</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">LowestRow</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Empty</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">J</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Empty</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Empty</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">LowestRow</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">LowestRow</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">I</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Fulls</span><span class="symbol">:</span><span class="function">pushNumber</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Fulls</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">(),</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">removeArray</span><span class="symbol">(</span><span class="variable">Fulls</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">(),</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">insertArray</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Fulls</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">RowsClearedScore</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">,</span><span class="number">300</span><span class="symbol">,</span><span class="number">1200</span><span class="symbol">)[</span><span class="variable">Fulls</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">RowsClearedScore</span><span class="symbol">*(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="variable">LowestRow</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Score I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">commitMoving</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">array</span><span class="symbol">][</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">CurCol</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">checkFullRows</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">+</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">shiftMoving</span><span class="symbol">(</span><span class="variable">Dir</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewMove</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">array</span><span class="symbol">][</span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">Dir</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">CurPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">NewMove</span><span class="symbol">:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="function">array</span><span class="symbol">(</span><span class="variable">CurPos</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Dir</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="variable">CurCol</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Hit</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">NewMove</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="symbol">!</span><span class="variable">Hit</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">rotateMoving</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewMove</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">MC</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Instr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">NewMove</span><span class="symbol">:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CurCol</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">LocalPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">CurPos</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="variable">MC</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">MC</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(-</span><span class="variable">LocalPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="space"> </span><span class="variable">LocalPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">NewMove</span><span class="symbol">:</span><span class="function">pushArray</span><span class="symbol">(</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="space"> </span><span class="variable">NewPos</span><span class="symbol">,</span><span class="space"> </span><span class="variable">CurCol</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">NewPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Instr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"X"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="number">1</span><span class="symbol">-</span><span class="variable">NewPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">NewPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Instr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"X"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="variable">NewPos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">NewPos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Instr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Nope"</span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Instr</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Nope"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">OldMove</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">clone</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">NewMove</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Instr</span><span class="symbol">:</span><span class="function">index</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"X"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="function">shiftMoving</span><span class="symbol">(</span><span class="variable">Instr</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">):</span><span class="function">toNumber</span><span class="symbol">()))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">OldMove</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gtetShowPreview</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">7</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">I</span><span class="space">/</span><span class="number">2</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">7</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Pieces"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">table</span><span class="symbol">][</span><span class="variable">Y</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">-</span><span class="number">1</span><span class="space">.</span><span class="number">5</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span><span class="space"> <span style="margin-left:10.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:95.0px"></span>2048 Functions</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">addTile</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">FoundNew</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">while</span><span class="symbol">(!</span><span class="variable">FoundNew</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="function">perf</span><span class="symbol">(</span><span class="variable">MP</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Rand</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">randint</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">16</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Rand</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Rand</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">N</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">FoundNew</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">FoundNew</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">R</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">,</span><span class="number">4</span><span class="symbol">,</span><span class="number">5</span><span class="symbol">,</span><span class="number">6</span><span class="symbol">,</span><span class="number">7</span><span class="symbol">,</span><span class="number">8</span><span class="symbol">,</span><span class="number">9</span><span class="symbol">,</span><span class="number">10</span><span class="symbol">,</span><span class="number">11</span><span class="symbol">,</span><span class="number">12</span><span class="symbol">,</span><span class="number">13</span><span class="symbol">,</span><span class="number">14</span><span class="symbol">,</span><span class="number">15</span><span class="symbol">,</span><span class="number">16</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Temp</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Rand</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">randint</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">16</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">Rand</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">R</span><span class="symbol">[</span><span class="variable">Rand</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Temp</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">N</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">FoundNew</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">FoundNew</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">addTile</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="function">addTile</span><span class="symbol">(</span><span class="space"> </span><span class="function">random</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space">.</span><span class="number">1</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="number">2</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">showTiles</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Tile</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Tile</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">13</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="variable">Tile</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">12</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Tile</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="number">2</span><span class="symbol">^</span><span class="variable">Tile</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NLen</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">(</span><span class="string">""</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="number">2</span><span class="symbol">^</span><span class="variable">Tile</span><span class="symbol">)):</span><span class="function">length</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/ </span><span class="symbol">(</span><span class="variable">NLen</span><span class="space"> </span><span class="symbol"><</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="symbol">(</span><span class="variable">NLen</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)*</span><span class="number">0</span><span class="space">.</span><span class="number">63</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">*</span><span class="number">0</span><span class="space">.</span><span class="number">75</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Tile</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">13</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">14</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">shiftTiles</span><span class="symbol">(</span><span class="variable">Dir</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># N1 E2 S3 W4</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"ShiftTiles"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Inc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftOffset"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#local ShiftN = Game["Tiles",array][X+Y*4+1,number]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ShiftY</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y2</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftY</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">+(</span><span class="number">1</span><span class="space">/</span><span class="variable">Inc</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">2</span><span class="symbol">^</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Inc</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftY</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftOffset"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#local ShiftN = Game["Tiles",array][X+Y*4+1,number]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ShiftY</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y2</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftY</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">+(</span><span class="number">1</span><span class="space">/</span><span class="variable">Inc</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">2</span><span class="symbol">^</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y2</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Inc</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">ShiftY</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftY</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftOffset"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#local ShiftN = Game["Tiles",array][X+Y*4+1,number]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ShiftX</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X2</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">+(</span><span class="number">1</span><span class="space">/</span><span class="variable">Inc</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">2</span><span class="symbol">^</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Inc</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(-</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftOffset"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">continue</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#local ShiftN = Game["Tiles",array][X+Y*4+1,number]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ShiftX</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X2</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">X</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftX</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">+(</span><span class="number">1</span><span class="space">/</span><span class="variable">Inc</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">2</span><span class="symbol">^</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X2</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Inc</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">ShiftX</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">ShiftX</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Shifted</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Score I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"Score: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">Shifted</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">g2048CheckGameOver</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Off</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">=</span><span class="symbol">=</span><span class="number">1</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Off</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Off</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Y</span><span class="symbol">=</span><span class="symbol">=</span><span class="number">1</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">*</span><span class="number">4</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">X</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Y</span><span class="symbol">+</span><span class="variable">Off</span><span class="symbol">)*</span><span class="number">4</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">g2048AnyOpenings</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:65.0px"></span>Tic-Tac-Toe Game Functions</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">placePiece</span><span class="symbol">(</span><span class="variable">Spot</span><span class="symbol">,</span><span class="space"> </span><span class="variable">PlayerN</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Cheat</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Placed</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Spot</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Cheat</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cheat"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Placed</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">Spot</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">PlayerN</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Box I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">Spot</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Box I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">Spot</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">PlayerN</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mat1"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mat2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]%</span><span class="number">2</span><span class="symbol">+</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#EGP:egpAlpha(Game["EGP YT I",number], (PlayerN != Game["Player",number])*255)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">((</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])*</span><span class="number">205</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="variable">Placed</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">drawWinnerLine</span><span class="symbol">(</span><span class="variable">Ply</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Dir1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Dir2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#dir1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># 1 = horiz</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># 2 = vert</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># 3 = diag</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#dir2</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment"># n = row</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Offset</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Dir2</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Dir1</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Offset</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Offset</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="space"> </span><span class="variable">Offset</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">90</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Dir1</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Offset</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="symbol">-</span><span class="number">45</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Dir2</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)*</span><span class="number">90</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Offset</span><span class="symbol">*</span><span class="number">125</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#EGP:egpAlpha(Game["EGP YT I",number], 0)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"You "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Ply</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="string">"Win!"</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">"Lose!"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Ply</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Wins"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Wins"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP WL I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"W: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Wins"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Losses"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Losses"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP WL I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"L: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Losses"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">checkGameOver</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">T</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">F1</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">F2</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">J</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span><span class="space"> </span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Y</span><span class="symbol">,</span><span class="variable">X</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Num</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">3</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Num</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">F1</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Num</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">F2</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">F1</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">drawWinnerLine</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="variable">J</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">F2</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">drawWinnerLine</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="variable">J</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Winner</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Winner</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">+</span><span class="number">0</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">drawWinnerLine</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">+</span><span class="number">0</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]&</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">drawWinnerLine</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Winner</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">9</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Winner</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"Cat's Game"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:85.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:65.0px"></span>Zork Functions</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#<span style="margin-left:65.0px"></span>Default Game Functions</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##########################################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">showArrow</span><span class="symbol">(</span><span class="variable">Show</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Show</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="number">997</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="function">vec2</span><span class="symbol">())</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="number">998</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">16</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="number">998</span><span class="symbol">,</span><span class="string">"vgui/cursors/arrow"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParent</span><span class="symbol">(</span><span class="number">998</span><span class="symbol">,</span><span class="number">997</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParentToCursor</span><span class="symbol">(</span><span class="number">997</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRemove</span><span class="symbol">(</span><span class="number">997</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRemove</span><span class="symbol">(</span><span class="number">998</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">resetGame</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment">#asdf</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MinesPoss"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Siz</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Root Tile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Siz</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Siz</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"glass/offlightcover"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">,</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">300</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushNumber</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"FlagTextI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">":00"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"AddBlock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">,</span><span class="number">2000</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BorderBox I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">gtetDrawBoard</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Score I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"Score: 0"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addTile</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addTile</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartTurn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]%</span><span class="number">2</span><span class="symbol">+</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartTurn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="comment">#EGP:egpAlpha(Game["EGP YT I",number], (Game["Turn",number] == Game["Player",number])*255)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="comment">#EGP:egpSetText(Game["EGP YT I",number], "Your Turn")</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span> </span><span class="symbol">?</span><span class="space"> </span><span class="string">"Searching. . ."</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">"Your Turn"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">((</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])*</span><span class="number">205</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">8</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Box I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Setup Game zork"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Setup Game"</span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">sendReset</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">sendQuit</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">sendPlyName</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"n:"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">number</span><span class="space"> </span><span class="function">setupGame</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">GameN</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Str</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="string">"Setup Game<span style="margin-left:10.0px"></span>"</span></span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span><span class="space">  </span><span class="comment">#Str:explode(" ")[3,string]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="function">perf</span><span class="symbol">(</span><span class="variable">MP</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">GameN</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)[</span><span class="number">1</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"minesweeper"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MinesPoss"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Str</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)[</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">):</span><span class="function">count</span><span class="symbol">(),</span><span class="function">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()</span><span class="comment">#Cmds:toNumber()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">></span><span class="symbol">=</span><span class="space"> </span><span class="number">100</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">99</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="string">"skybox/militia_hdrup"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPoly</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">175</span><span class="symbol">-</span><span class="number">140</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">175</span><span class="symbol">+</span><span class="number">140</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">175</span><span class="symbol">+</span><span class="number">140</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">175</span><span class="symbol">-</span><span class="number">140</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPoly</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">459</span><span class="symbol">,</span><span class="space"> </span><span class="number">495</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">509</span><span class="symbol">,</span><span class="space"> </span><span class="number">492</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">509</span><span class="symbol">,</span><span class="space"> </span><span class="number">404</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">458</span><span class="symbol">,</span><span class="space"> </span><span class="number">360</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">60</span><span class="symbol">,</span><span class="number">400</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">57</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">,</span><span class="number">330</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">32</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">,</span><span class="number">360</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">64</span><span class="symbol">,</span><span class="number">64</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GearI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="string">"expression 2/cog_prop"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="string">"expression 2/cog_prop"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">420</span><span class="symbol">,</span><span class="space"> </span><span class="number">60</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">120</span><span class="symbol">,</span><span class="number">110</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">5</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">50</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">14</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">140</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="number">5</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">25</span><span class="symbol">,-</span><span class="number">35</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">10</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">8</span><span class="symbol">,</span><span class="string">"gui/gradient_up"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">25</span><span class="symbol">,-</span><span class="number">35</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="string">"effects/fire_cloud1"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">25</span><span class="symbol">,-</span><span class="number">35</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">,</span><span class="number">25</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">3</span><span class="symbol">,</span><span class="string">"vgui/entities/weapon_mad_admin"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">25</span><span class="symbol">,-</span><span class="number">2</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">25</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">170</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">4</span><span class="symbol">,</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">25</span><span class="symbol">,-</span><span class="number">4</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">63</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="string">"gui/legs1"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="space"> </span><span class="string">":"</span></span><span class="symbol">+</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">5</span><span class="symbol">,-</span><span class="number">35</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">6</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">30</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"FlagTextI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="space"> </span><span class="string">":00"</span></span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">)</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(-</span><span class="number">5</span><span class="symbol">,-</span><span class="number">4</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">7</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">30</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">9</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Cheat I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">4</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec4</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">60</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># mine tile backdrop</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">+</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">430</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">150</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">+</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">430</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Siz</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">PS</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">375</span><span class="space">/</span><span class="symbol">(</span><span class="variable">Siz</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">AS</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">375</span><span class="space">/</span><span class="symbol">(</span><span class="variable">Siz</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Root Tile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Siz</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Siz</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">69</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">floor</span><span class="symbol">(</span><span class="function">vec2</span><span class="symbol">((</span><span class="variable">X</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">),(</span><span class="variable">Y</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">))*</span><span class="variable">PS</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"glass/offlightcover"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">,</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">*</span><span class="number">0</span><span class="space">.</span><span class="number">9</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">300</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">*</span><span class="number">2</span><span class="symbol">),</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">300</span><span class="symbol">,</span><span class="string">"vgui/entities/weapon_mad_admin"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">300</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">AS</span><span class="symbol">*</span><span class="number">2</span><span class="symbol">)))</span><span class="space"> <span style="margin-left:95.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/legs1"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushNumber</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">400</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CurEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end 1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">2</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CurEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Exit I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="number">500</span><span class="symbol">-</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">17</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">170</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/close_32"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Reset I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="number">500</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">20</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"gui/html/refresh"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">175</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">310</span><span class="symbol">,</span><span class="number">45</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">70</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">7</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Minesweeper"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="string">"Lucida Console"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">42</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="comment"># means the setup is done</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end 2</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end minesweeper</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper2"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"minesweeper2"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MinesPoss"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">GameN</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)[</span><span class="number">2</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"easy"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">9</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"hard"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">99</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">21</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">40</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">16</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GBSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">450</span><span class="space"> </span><span class="comment">#game board</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GBSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GBSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Grid</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Grid</span><span class="symbol">:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="space">  </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">x</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">((</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">I</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="number">2</span><span class="symbol">)%</span><span class="number">4</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">y</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space">  </span><span class="symbol">+</span><span class="function">floor</span><span class="symbol">((</span><span class="variable">I</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">)</span><span class="space">  </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:55.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLineStrip</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Grid</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Grid</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Grid</span><span class="symbol">:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">x</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space">  </span><span class="symbol">+</span><span class="function">floor</span><span class="symbol">((</span><span class="variable">I</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">y</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">((</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">I</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="number">2</span><span class="symbol">)%</span><span class="number">4</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">)</span><span class="space">  </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLineStrip</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="variable">Grid</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GBSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">3</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mine"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mine"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="function">vec2</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">25</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Mult</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">%</span><span class="number">4</span><span class="symbol">=</span><span class="symbol">=</span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Mult</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="space">.</span><span class="number">5</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mine"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="space"> </span><span class="function">sin</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">*(</span><span class="number">360</span><span class="space">/</span><span class="number">24</span><span class="symbol">))*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">cos</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">*(</span><span class="number">360</span><span class="space">/</span><span class="number">24</span><span class="symbol">))*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="variable">Mult</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PickupEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end 1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">2</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PickupEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">StartOff</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]-</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GBSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space">/</span><span class="number">2</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])*</span><span class="number">0</span><span class="space">.</span><span class="number">75</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"RootTile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">StartOff</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"TSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="comment">#EGP:egpColor(EI,vec(100))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"gui/center_gradient"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="comment"># means the setup is done</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end minesweeper 2</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">GameN</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"AddBlock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">11</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">22</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">20</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameSpeed"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">350</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"UpNext"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">randint</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">7</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Pieces"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:25.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span><span class="space">  </span><span class="comment">#<span style="margin-left:25.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:20.0px"></span>X</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>XXX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:20.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:20.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>XX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>X</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>XXX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:25.0px"></span>X</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">),</span><span class="space"> </span><span class="comment">#<span style="margin-left:15.0px"></span>XXX</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">array</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span><span class="comment">#<span style="margin-left:15.0px"></span>XXXX</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MoveCent"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">160</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">160</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Grid</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Grid</span><span class="symbol">:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="space">  </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">x</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">((</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">I</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="number">2</span><span class="symbol">)%</span><span class="number">4</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:20.0px"></span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">y</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space">  </span><span class="symbol">+</span><span class="function">floor</span><span class="symbol">((</span><span class="variable">I</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">)</span><span class="space">  </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:55.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLineStrip</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Grid</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Grid</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Grid</span><span class="symbol">:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">x</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space">  </span><span class="symbol">+</span><span class="function">floor</span><span class="symbol">((</span><span class="variable">I</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">y</span><span class="symbol">()-(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">((</span><span class="function">floor</span><span class="symbol">(</span><span class="variable">I</span><span class="space">/</span><span class="number">2</span><span class="symbol">)*</span><span class="number">2</span><span class="symbol">)%</span><span class="number">4</span><span class="symbol">)</span><span class="space">/</span><span class="number">2</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">)</span><span class="space">  </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpLineStrip</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="variable">Grid</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BorderBox I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">3</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Off</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFWidth"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PFHeight"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BlockI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Width"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="variable">Off</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="comment">#EGP:egpMaterial(EI,"gui/center_gradient")</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="comment">#EGP:egpColor(EI, vec( (X-1+(Y-1)* Game["Width",number])+50<span style="margin-left:10.0px"></span>)<span style="margin-left:10.0px"></span>)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Preview I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSize</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Pause I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"PAUSED"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]:</span><span class="function">x</span><span class="symbol">(),</span><span class="number">510</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">35</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">400</span><span class="symbol">,</span><span class="space"> </span><span class="number">150</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Next I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">160</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Size"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]-</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gtetShowPreview</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="string">"Next:"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Next Cent"</span></span><span class="symbol">,</span><span class="space"> </span><span class="type">vector</span><span class="number">2</span><span class="symbol">]-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">70</span><span class="symbol">,</span><span class="number">52</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">5</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">6</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">400</span><span class="symbol">,</span><span class="space"> </span><span class="number">360</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Score:"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">70</span><span class="symbol">,</span><span class="number">27</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBoxOutline</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">160</span><span class="symbol">,</span><span class="space"> </span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Score I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="string">"0"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">77</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">45</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">3</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Exit I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="number">500</span><span class="symbol">-</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">17</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">170</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/close_32"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Reset I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="number">500</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">20</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"gui/html/refresh"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">1000</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="comment"># means the setup is done</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end 1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end tetris</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">GameN</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Score"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">100</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"SpawnLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">300</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">400</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gap"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">floor</span><span class="symbol">(</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gap"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">5</span><span class="symbol">)</span><span class="space"> </span><span class="space">/ </span><span class="number">4</span><span class="space"> </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShiftOffset"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">20</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">238</span><span class="symbol">,</span><span class="space"> </span><span class="number">228</span><span class="symbol">,</span><span class="space"> </span><span class="number">218</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 2</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">224</span><span class="symbol">,</span><span class="space"> </span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 4</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">242</span><span class="symbol">,</span><span class="space"> </span><span class="number">177</span><span class="symbol">,</span><span class="space"> </span><span class="number">121</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 8</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">245</span><span class="symbol">,</span><span class="space"> </span><span class="number">149</span><span class="symbol">,</span><span class="space">  </span><span class="number">99</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 16</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">246</span><span class="symbol">,</span><span class="space"> </span><span class="number">124</span><span class="symbol">,</span><span class="space">  </span><span class="number">95</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 32</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">246</span><span class="symbol">,</span><span class="space">  </span><span class="number">94</span><span class="symbol">,</span><span class="space">  </span><span class="number">59</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 64</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">207</span><span class="symbol">,</span><span class="space"> </span><span class="number">114</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 128</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">204</span><span class="symbol">,</span><span class="space">  </span><span class="number">97</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 256</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">200</span><span class="symbol">,</span><span class="space">  </span><span class="number">80</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 512</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">197</span><span class="symbol">,</span><span class="space">  </span><span class="number">63</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 1024</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">237</span><span class="symbol">,</span><span class="space"> </span><span class="number">194</span><span class="symbol">,</span><span class="space">  </span><span class="number">46</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 2048</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="space"> </span><span class="number">60</span><span class="symbol">,</span><span class="space">  </span><span class="number">58</span><span class="symbol">,</span><span class="space">  </span><span class="number">50</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 4096+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="space"> </span><span class="number">34</span><span class="symbol">),</span><span class="space"> </span><span class="comment"># 2,4</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">vec</span><span class="symbol">(</span><span class="number">249</span><span class="symbol">)</span><span class="space">  </span><span class="comment"># 8+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">0</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">204</span><span class="symbol">,</span><span class="space"> </span><span class="number">192</span><span class="symbol">,</span><span class="space"> </span><span class="number">178</span><span class="symbol">)</span><span class="space"> </span><span class="comment">#0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">16</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Game["Tiles",array][2,number] = 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#print(g2048CheckGameOver())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"BSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">187</span><span class="symbol">,</span><span class="number">173</span><span class="symbol">,</span><span class="number">160</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">3</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)*</span><span class="number">0</span><span class="space">.</span><span class="number">55</span><span class="symbol">*</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Colors"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParent</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="string">"0"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"PSize"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]*</span><span class="number">0</span><span class="space">.</span><span class="number">75</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpParent</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">16</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">16</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#for(I = 1, 16) {</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="comment">#addTile(I)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addTile</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addTile</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="mlcomment">#[ addTile(4)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>addTile(7)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>addTile(10)</span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>addTile(14)]#</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"2048"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">60</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Score I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Score: 0"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">6</span><span class="symbol">,</span><span class="number">510</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">40</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Exit I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="number">500</span><span class="symbol">-</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">17</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">170</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/close_32"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Reset I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="number">500</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">20</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"gui/html/refresh"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end 1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end 2048</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"tic tac toe"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="comment"># until connected</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">EI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Game Data"</span></span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartEI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartTurn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">256</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Wins"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Losses"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mat1"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"vgui/notices/hint"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mat2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"vgui/notices/error"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="space"> </span><span class="number">256</span><span class="symbol">*</span><span class="number">1</span><span class="space">.</span><span class="number">45</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">910</span><span class="space">.</span><span class="number">22222</span><span class="symbol">,</span><span class="number">512</span><span class="symbol">)*</span><span class="number">1</span><span class="space">.</span><span class="number">45</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"vgui/appchooser/background_hl2"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">375</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">3</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)*</span><span class="number">60</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">10</span><span class="symbol">,</span><span class="number">350</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="variable">I</span><span class="symbol">)*</span><span class="number">60</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">350</span><span class="symbol">,</span><span class="number">10</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Box I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">)*</span><span class="number">125</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">75</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">512</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">300</span><span class="symbol">,</span><span class="number">120</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">vec4</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">250</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Searching. . ."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="space"> </span><span class="number">510</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">35</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="comment">#EGP:egpAlpha(EI, 0)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Exit I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="number">500</span><span class="symbol">-</span><span class="number">30</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">17</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">170</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/close_32"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Reset I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCircle</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">500</span><span class="symbol">-</span><span class="number">9</span><span class="symbol">,</span><span class="number">500</span><span class="symbol">-</span><span class="number">74</span><span class="symbol">),</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">20</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">240</span><span class="symbol">,</span><span class="number">240</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"gui/html/refresh"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Winner I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">370</span><span class="symbol">,</span><span class="number">10</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec4</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRadius</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Opp I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Opponent: null"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="number">512</span><span class="symbol">-</span><span class="number">40</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlign</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">512</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">160</span><span class="symbol">,</span><span class="number">108</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec4</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">250</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP WL I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"W: 0"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">444</span><span class="symbol">,</span><span class="space"> </span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"L: 0"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">(</span><span class="number">444</span><span class="symbol">,</span><span class="space"> </span><span class="number">28</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">20</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpRoundedBox</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">600</span><span class="symbol">,</span><span class="space"> </span><span class="number">102</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">,</span><span class="function">vec4</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">30</span><span class="symbol">,</span><span class="number">250</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpText</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="string">"Tic-Tac-Toe"</span></span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">6</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpFont</span><span class="symbol">(</span><span class="variable">EI</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="string">"Courier New"</span></span><span class="symbol">,</span><span class="number">50</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EI</span><span class="symbol">+</span><span class="symbol">=</span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Highest Object I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EI</span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="string">"findgame"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end 1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment"># end tic tac toe</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:30.0px"></span>-------------------------"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:25.0px"></span>ZZZZZ<span style="margin-left:15.0px"></span>OOO<span style="margin-left:15.0px"></span>RRRR<span style="margin-left:15.0px"></span>KK<span style="margin-left:10.0px"></span>KK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:40.0px"></span>ZZ<span style="margin-left:10.0px"></span>OO OO<span style="margin-left:10.0px"></span>RR RR<span style="margin-left:10.0px"></span>KK KK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:35.0px"></span>ZZ<span style="margin-left:15.0px"></span>OO OO<span style="margin-left:10.0px"></span>RR RR<span style="margin-left:10.0px"></span>KKKK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:30.0px"></span>ZZ<span style="margin-left:20.0px"></span>OO OO<span style="margin-left:10.0px"></span>RRRR<span style="margin-left:15.0px"></span>KK KK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:25.0px"></span>ZZ<span style="margin-left:25.0px"></span>OO OO<span style="margin-left:10.0px"></span>RR RR<span style="margin-left:10.0px"></span>KK<span style="margin-left:10.0px"></span>KK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:25.0px"></span>ZZZZZ<span style="margin-left:15.0px"></span>OOO<span style="margin-left:15.0px"></span>RR<span style="margin-left:10.0px"></span>RR KK<span style="margin-left:10.0px"></span>KK"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:45.0px"></span>A custom version<span style="margin-left:10.0px"></span>"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:65.0px"></span>by ElMico<span style="margin-left:25.0px"></span>"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:30.0px"></span>-------------------------"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>Note: Game only ~15% complete."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:285.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"zork"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"LocData"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">(</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Details"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="variable">ID</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Desc</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"Name"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Desc"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Desc</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Actions"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddItem</span><span class="symbol">(</span><span class="variable">ID</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">LocDes</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Des</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">ExtraData</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Name</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="variable">LocDes</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Des</span><span class="symbol">,</span><span class="space"> </span><span class="variable">ExtraData</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddCont</span><span class="symbol">(</span><span class="variable">ID</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">LocDes</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Name</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="number">1</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">LocDes</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Data"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddDetail</span><span class="symbol">(</span><span class="variable">ID</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">LocDes</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Commands</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Name</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="variable">LocDes</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Commands</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="variable">FromLoc</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">ToLoc</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Dir</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">PathName</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">PathDes</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">TravelDes</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Details</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">FromLoc</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Dir</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="number">1</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">PathDes</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Name"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">PathName</span><span class="symbol">,</span><span class="space"> </span><span class="string">"ToLoc"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ToLoc</span><span class="symbol">,</span><span class="space"> </span><span class="string">"TDesc"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TravelDes</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Details"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Details</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddAction</span><span class="symbol">(</span><span class="variable">ID</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Condition</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Response</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ID</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Actions"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]:</span><span class="function">pushTable</span><span class="symbol">(</span><span class="function">table</span><span class="symbol">(</span><span class="variable">Condition</span><span class="symbol">,</span><span class="variable">Response</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>"</span></span><span class="symbol">+</span><span class="variable">Str</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">180</span><span class="symbol">),</span><span class="space"> </span><span class="number">6</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoMoveText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>"</span></span><span class="symbol">+</span><span class="variable">Str</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAreaDescText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>"</span></span><span class="symbol">+</span><span class="variable">Str</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">),</span><span class="space"> </span><span class="number">4</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoDie</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>You are dead."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoSayClothes</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>You aren't wearing anything of interest."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>You are wearing:"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoRemoveFromContainer</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Data"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Contents"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]:</span><span class="function">exists</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Data"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Contents"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]:</span><span class="function">remove</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoTake</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Item</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Take what?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You take the "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">K</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">removeTable</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoRemoveFromContainer</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There is no such item in the area."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoLook</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAreaDescText</span><span class="symbol">(</span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Desc"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There is a "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span></span><span class="symbol">+</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoInspect</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Item</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Inspect what?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Item</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">exists</span><span class="symbol">(</span><span class="string">"FineDetail"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"FineDetail"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There is no such item in your inventory or in the area."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoForcePickupItem</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Name</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">Tab</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{}</span><span class="space"> </span><span class="comment"># prototype</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoGoDir</span><span class="symbol">(</span><span class="variable">Dir</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Dir</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Go where?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]:</span><span class="function">exists</span><span class="symbol">(</span><span class="variable">Dir</span><span class="symbol">:</span><span class="function">index</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Path</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Dir</span><span class="symbol">:</span><span class="function">index</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">),</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"unlocked"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NewLoc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">][</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="variable">Dir</span><span class="symbol">:</span><span class="function">index</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">),</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">NewLoc</span><span class="symbol">[</span><span class="string">"TDesc"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoMoveText</span><span class="symbol">(</span><span class="variable">NewLoc</span><span class="symbol">[</span><span class="string">"TDesc"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">NewLoc</span><span class="symbol">[</span><span class="string">"ToLoc"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoLook</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"locked"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"It's locked."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">4</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"msg:"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"action"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Action"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't go that way."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't go that way."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoOpenCont</span><span class="symbol">(</span><span class="variable">Dat</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Dat</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Search what?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Containers"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Dat</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Conts</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Data"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"Contents"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Conts</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"It's empty."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>The "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" contains:"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K2</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T2</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Conts</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">K2</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" - "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">T2</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddItem</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="variable">K2</span><span class="symbol">,</span><span class="space"> </span><span class="string">"in the "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">"."</span></span><span class="symbol">,</span><span class="space"> </span><span class="variable">T2</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="variable">T2</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There is no such item in the area."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoPutOn</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="string">"wearable"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">K</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">remove</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You put on the "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">"."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't put that on!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Items"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="string">"wearable"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoTake</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoPutOn</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't put that on!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There is no such item in your inventory or in the area."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoTakeOff</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Name</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">T</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="string">"immovable"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">K</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">T</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">remove</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You take off the "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">"."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't take that off!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You are wearing no such item."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoExitThrough</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">array</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Cmds</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">clone</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">T</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoGoDir</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">return</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">Tab</span><span class="symbol">:</span><span class="function">table</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Cmd</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Tab</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"die"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">Tab</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoDie</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"unlock"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ULWhat</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">":"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">ULWhat</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"path"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Path</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Paths"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ULWhat</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Path</span><span class="symbol">[</span><span class="string">"Details"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">"State"</span></span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"unlocked"</span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"move"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">Tab</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoGoDir</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"warp"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">Tab</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoLook</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoAction</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">array</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Loc</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Locs"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Action</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Actions"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Actions"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Action</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">I</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Action</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ActionData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Loc</span><span class="symbol">[</span><span class="string">"Actions"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">Action</span><span class="symbol">,</span><span class="function">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">FullCmd</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">):</span><span class="function">replace</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Condition</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ActionData</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"throw"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Cond</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Condition</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"@"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="comment"># if you have the item in your inventory</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Found</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">K</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cond</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">Found</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Found</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't do that."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="comment"># did you do the command right</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">CmdParts</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">FullCmd</span><span class="symbol">:</span><span class="function">find</span><span class="symbol">(</span><span class="string">" at "</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">CmdParts</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">FullCmd</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" at "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">FullCmd</span><span class="symbol">:</span><span class="function">find</span><span class="symbol">(</span><span class="string">" through "</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">CmdParts</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">FullCmd</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" through "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Use throw <item> at/through <object>"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cond</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">CmdParts</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Cond</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">CmdParts</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ResultTab</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ActionData</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="variable">ResultTab</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">remove</span><span class="symbol">(</span><span class="variable">Cond</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">ResultTab</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't do that."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"push"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Condition</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">find</span><span class="symbol">(</span><span class="variable">FullCmd</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">ActionData</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't do that."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"jump"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="comment">#Game["Locs",table][ID,table]["Actions",table]:pushTable(table(Condition,Response))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="comment">#Cond = table("jump","north/n/gap/ledge")</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="comment">#Res = table(cnd, truetable(move, print), falsetable(warp, where, print) )</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"></span><span class="comment">#gzoAddAction("ledge1",table("jump", "south/s/ledge/gap/platform"), table("cnd:wear=Running Shoes", </span></div><br>
<div><span class="space"></span><span class="comment">#<span style="margin-left:290.0px"></span>table("move:s", "Print me"), table("die", "Print me")))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">ActionData</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Res</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">ActionData</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">GoForIt</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Res</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="string">"cnd:"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Res</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">find</span><span class="symbol">(</span><span class="string">"wear="</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">exists</span><span class="symbol">(</span><span class="variable">Res</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"wear="</span></span><span class="symbol">)[</span><span class="number">2</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">GoForIt</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">GoForIt</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="comment">#local Do = Res[2,table]</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">Res</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="comment">#local Do = Res[3,table]</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoPrivateCommand</span><span class="symbol">(</span><span class="variable">Res</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Jump where?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You can't do that."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">gzoCommand</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Found</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"restart"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Found</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Found</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You are dead! You can only quit and restart."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Cmd</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CheckCmd"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"y"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"yes"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Close Game"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" MayOS v"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Version</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"no"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CheckCmd"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"restart"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"y"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"yes"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">resetGame</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CheckCmd"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"no"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CheckCmd"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="mlcomment">#[</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>case "",</span></div><br>
<div><span class="mlcomment"><span style="margin-left:200.0px"></span>switch(Cmd) {</span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>case "y",</span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>case "yes",</span></div><br>
<div><span class="mlcomment"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>break</span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>case "n",</span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>case "no",</span></div><br>
<div><span class="mlcomment"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>break</span></div><br>
<div><span class="mlcomment"><span style="margin-left:200.0px"></span>}</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>break</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>]#</span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># Begin actual entered commands.</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Use 'help commands' for a command list."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Use 'help general' for how to play."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help commands"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Commands:"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"north/south/east/west/up/down - Travel a direction"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"look - Look around the area"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"inventory - Look at what you have"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"search <container> - Search something."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"take <item> - Pick up an item"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"actions:"</span></span><span class="symbol">)</span><span class="comment"># push/pull/throw/jump")</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>push/pull <object> - Try to move something."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>throw <item> - Throw something in your inventory."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>jump <where> - Jump in a direction."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help general"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Welcome to Zork! You find yourself in your office, and hear a loud noise and some comotion outside of your door."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You objective is to explore the world and figure out what is going on."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You will explore in two ways:"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"-Traveling between areas using directional commands"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"-Searching areas"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"There are a number of actions and commands you can do at any given time, such as take <item> or search <container>."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Be careful, though. It is possible to die!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Have fun, and don't get eaten by a Grue."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>(Use 'look' to look around)"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"restart"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"Are you sure?"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CheckCmd"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"north"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"s"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"south"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"e"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"east"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"w"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"west"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"u"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"up"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"d"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"down"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoGoDir</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"look"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"look around"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoLook</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"inv"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"inventory"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You have nothing in your inventory."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"In your inventory:"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You aren't wearing anything noteworthy."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">"You are wearing:"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="function">foreach</span><span class="symbol">(</span><span class="variable">K</span><span class="symbol">,</span><span class="space"> </span><span class="variable">T</span><span class="symbol">:</span><span class="function">table</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoAddText</span><span class="symbol">(</span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">K</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"wear"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"wearing"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">gzoSayClothes</span><span class="symbol">()</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Cmds</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"warp"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">gzoLook</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Unknown Command, cheater"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"go"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"north"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"s"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"south"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"e"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"east"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"w"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"west"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"u"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"up"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"d"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"down"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:320.0px"></span></span><span class="function">gzoGoDir</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:320.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Unknown Command"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"restart"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"y"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"yes"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">resetGame</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoExitThrough</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"y"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"yes"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Close Game"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" MayOS v"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Version</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"enter"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoExitThrough</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"inspect"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"look"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"at"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoInspect</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"open"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"search"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoOpenCont</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"take"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"off"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="function">gzoTakeOff</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"pick"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"up"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoTake</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"put"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"wear"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"on"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:300.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoPutOn</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"remove"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">remove</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoTakeOff</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"push"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"pull"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"throw"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"jump"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">gzoAction</span><span class="symbol">(</span><span class="variable">Cmds</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Unknown Command"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Item, Cont (container), Path, Deet</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="mlcomment">#[ </span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>Location:</span></div><br>
<div><span class="mlcomment"><span style="margin-left:160.0px"></span>Cons: </span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>ID</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>Name</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>Description</span></div><br>
<div><span class="mlcomment"><span style="margin-left:160.0px"></span>Loose Items</span></div><br>
<div><span class="mlcomment"><span style="margin-left:160.0px"></span>Containers</span></div><br>
<div><span class="mlcomment"><span style="margin-left:160.0px"></span>Paths</span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>Bugs:</span></div><br>
<div><span class="mlcomment"><span style="margin-left:160.0px"></span>Make it so when an item is picked up from a container, it removes it from the container.</span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="mlcomment"><span style="margin-left:140.0px"></span>]#</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Location"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"office1"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Inventory"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoForcePickupItem</span><span class="symbol">(</span><span class="string">"Running Shoes"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">,</span><span class="string">"I'm fast as heck, boi!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"wearable"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Clothes"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Office 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Office"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are in your small office."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"hall1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"w"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Door"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"A door leads to the west."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"locked"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"e"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Window"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"There is a cracked window to the east."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You climb through the shattered window."</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"CAN'T BE OPENED"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"FineDetail"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"It's a large but flimsy window with a crack along the edge. You put in a maintenance request weeks ago but they're a bunch of bums."</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddAction</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">(</span><span class="string">"throw"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Heavy Lamp@Window"</span></span><span class="symbol">),</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"unlock path:e"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You throw the lamp through the window."</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddAction</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">(</span><span class="string">"push"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Window"</span></span><span class="symbol">),</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"die"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You push on the flimsy window. It shatters, and you fall through, plunging to your death."</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddItem</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Heavy Lamp"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"on your desk."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"It's a heavy lamp given to you by your boss. It has a plaque that reads \"</span></span><span class="variable">For</span><span class="space"> </span><span class="function">above</span><span class="space"> </span><span class="function">average</span><span class="space"> </span><span class="function">performance</span><span class="space"> </span><span class="function">among</span><span class="space"> </span><span class="function">mediocrity</span><span class="space">.</span><span class="space">\</span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddCont</span><span class="symbol">(</span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Desk"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Your desk is in the center of the room"</span></span><span class="symbol">,</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"Contents"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="string">"Wedding Ring"</span></span><span class="symbol">=</span><span class="function">table</span><span class="symbol">(</span><span class="string">"It contains your wedding ring from your marriage to your ex-wife."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Your wedding ring from your marriage to your ex-wife. It brings you both good and bad memories."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"wearable"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">)))</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Hallway 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"hall1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Hallway"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are in a dark hallway."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"hall1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"e"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Door"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"The door to your office is to the east."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Ledge 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Narrow Ledge"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are on a narrow ledge."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"office1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"w"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Window"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"A shattered window leads to the west."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You climb through the shattered window."</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"msg:You probably shouldn't go back in there right now."</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"ledge2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"s"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Gap"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"To the south, a one meter gap leads to another larger platform. The gap is too far to step across, you'll need to jump."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"action"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Action"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"die"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You attempt to step across the gap, but it is too far and you plunge do your death."</span></span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddAction</span><span class="symbol">(</span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">(</span><span class="string">"jump"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"south/s/ledge/gap/platform"</span></span><span class="symbol">),</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"cnd:wear=Running Shoes"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"warp ledge2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You skillfully leap across the gap."</span></span><span class="symbol">),</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"die"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You attempt to jump across the gap, but you are wearing worn dress shoes, and your foot slips and you plunge to your death."</span></span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Fire Escape"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"There is a fire escape to the north."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Ledge 2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"ledge2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Platform"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are on a broader platform."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"ledge2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"n"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Gap"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"To the north, a one meter gap leads back to the narrow ledge. The gap is too far to step across, you'll need to jump."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"action"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Action"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"die"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You attempt to step across the gap, but it is too far and you plunge do your death."</span></span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gzoAddAction</span><span class="symbol">(</span><span class="string">"ledge2"</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">(</span><span class="string">"jump"</span></span><span class="symbol">,</span><span class="string">"north/n/gap/ledge"</span></span><span class="symbol">),</span><span class="function">table</span><span class="symbol">(</span><span class="string">"cnd:wear=Running Shoes"</span></span><span class="symbol">,</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"warp ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You skillfully leap across the gap."</span></span><span class="symbol">),</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"warp secret1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You attempt to step across the gap, but it is too far and fall onto a lower platform."</span></span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Fire Escape 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Fire Escape"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are high up on a fire escape."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"roof1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"u"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Stairs"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"There are stairs leading up to the roof."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You carefully ascend the rickety staircase."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"alley1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"d"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Stairs"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"There are stairs leading down to the alley below."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You carefully descend the rickety staircase."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"s"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Ledge"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"The ledge outside your office window is to the south."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Roof 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"roof1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Roof"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are on top of the roof of your building."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"roof1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"e"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Stairs"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"To the east there are stairs leading to the fire escape."</span></span><span class="symbol">,</span><span class="string">"You carefully descend the rickety staircase."</span></span><span class="symbol">,</span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"roof1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"roof2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"w"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Gap"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"To the west, the neighboring building is 15 feet away from your building."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You carefully shimmy along the rope."</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"State"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Cant' be opened"</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Roof 2</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"roof2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Roof"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are on top of the neighboring building."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Alley 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"alley1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Alley"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You are in the alley behind your building."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"alley1"</span></span><span class="symbol">,</span><span class="string">"fireescape1"</span></span><span class="symbol">,</span><span class="string">"u"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Stairs"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Above you are stairs leading up to the fire escape."</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You carefully ascend the rickety staircase."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Secret Areas!</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#Secret 1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoAddLoc</span><span class="symbol">(</span><span class="string">"secret1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Secret Area!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"You found a secret area!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddPath</span><span class="symbol">(</span><span class="string">"secret1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"ledge1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"u"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Ladder"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"A hidden ladder leads up to the narrow ledge."</span></span><span class="symbol">,</span><span class="string">"You climb the ladder back up to the ledge. You don't think you can climb back down."</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">gzoAddCont</span><span class="symbol">(</span><span class="string">"secret1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Chest"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"There is a chest here."</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">table</span><span class="symbol">(</span><span class="string">"Contents"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="string">"Heights Trophy"</span> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">(</span><span class="string">"It contains a trophy!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"A trophy for not being afraid of heights! (And maybe being a little stupid)"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment"># Must go last</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">gzoLook</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Type I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">,</span><span class="space"> </span><span class="number">37</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor Root"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end 1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="comment">#end zork</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">return</span><span class="space"> </span><span class="symbol">!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Setup"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">doCommand</span><span class="symbol">(</span><span class="variable">Command</span><span class="symbol">:</span><span class="function">string</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Command</span><span class="symbol">:</span><span class="function">lower</span><span class="symbol">():</span><span class="function">trim</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment"># put all single line commands here</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>-- Public Commands --"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" help <cmd><span style="margin-left:10.0px"></span>-><span style="margin-left:10.0px"></span>Get more info on a command."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" exit<span style="margin-left:40.0px"></span>-><span style="margin-left:10.0px"></span>Exit the console."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" clear<span style="margin-left:35.0px"></span>-><span style="margin-left:10.0px"></span>Clear the console screen."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" kick<span style="margin-left:40.0px"></span>-><span style="margin-left:10.0px"></span>Get kicked from the console."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" log <num><span style="margin-left:15.0px"></span>-><span style="margin-left:10.0px"></span>Print a log entry."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" say <msg><span style="margin-left:15.0px"></span>-><span style="margin-left:10.0px"></span>Speak through ElMico!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" msg <ply> <msg>"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:65.0px"></span>-> Send a private message."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" update<span style="margin-left:30.0px"></span>-><span style="margin-left:10.0px"></span>Update the E2."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" about<span style="margin-left:35.0px"></span>-><span style="margin-left:10.0px"></span>See info about MayOS."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>-- Games --"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" 2048<span style="margin-left:40.0px"></span>-><span style="margin-left:10.0px"></span>Play 2048!"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" minesweeper -><span style="margin-left:10.0px"></span>Play Minesweeper!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" tetris<span style="margin-left:30.0px"></span>-><span style="margin-left:10.0px"></span>Play Tetris!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" tic tac toe -><span style="margin-left:10.0px"></span>Play Tic-Tac-Toe!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" zork<span style="margin-left:40.0px"></span>-><span style="margin-left:10.0px"></span>Play ElMico's take on Zork!"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>-- Tips & Tricks --"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Use [tab] to autocomplete commands."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Use arrow keys and mouse wheel to scroll."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"test"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"update"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateAvail"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">print</span><span class="symbol">(</span><span class="string">"Updating. . .\nBe sure to save the new Expression 2!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"IsUpdating"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">remoteSetCode</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewE2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"CheckUpdate"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Checking for update."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#addText(" No new updates available.", vec(255,200,200))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"about"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>MayOS v"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Version</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Created by:"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">150</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>ElMico"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>Last version release:"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">150</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:20.0px"></span>"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"Updated"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" For more info type 'about 1'"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Setup Game "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Command</span><span class="symbol">,</span><span class="space"> </span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Setup Game"</span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Login"</span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">setDisplay</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"clear"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"kick"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"- Later loser."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Kick</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">LastUser</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"UnKick"</span></span><span class="symbol">,</span><span class="number">50</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"logs"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">writeLogs</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Cmd</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Command</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"help"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" You're an idiot."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Kick</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">LastUser</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"UnKick"</span></span><span class="symbol">,</span><span class="number">50</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">4</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"tactoe"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: tic tac toe"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Allows you to play Tic-Tac-Toe with another player on the server. The second player will need their own Screen, Keyboard, and MayOS v2 E2."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" After running 'tic tac toe', you will have to wait for Player 2 to run the same command on their MayOS. After, you may begin the game."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"exit"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: exit"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Returns to the login screen."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"about"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: about"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: about <page>"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Displays information about MayOS. Including a page will display a more detailed history."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"clear"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: clear"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Removes all printed data from the console screen."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"kick"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: kick"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Disconnects you from the keyboard, and violently kicks you away from the screen."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"log"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: log <log index"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Allows you to view saved logs of entered commands, and failed password attempts."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"msg"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: msg <player name> <message>"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Sends <message> text to provided player."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" The <player name> cannot contain any spaces."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: 2048"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Use arrow keys to slide all game pieces in a direction."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Combine duplicate numbers into a single new piece."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: minesweeper"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: minesweeper <mine count>"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" If no mine count is given, default is 10."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>Must be between 1 and 100."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Suggested levels:"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>Easy:<span style="margin-left:20.0px"></span>10"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>Medium:<span style="margin-left:10.0px"></span>17"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>Hard:<span style="margin-left:20.0px"></span>25"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: tetris"</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Play tetris on a 10x20 board. Game is still under construction, so many parts may look unfinished and there are bugs."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: zork"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Play Zork, an entirely text-based adventure game. Don't get eaten by a Grue."</span> </span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"update"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Usage: update"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" If there is an update available, you will be notified upon each login and the current version number in the upper corner will turn red."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" When you have been notified, the update has already been downloaded. Upon entering the update command, the update will be immediately applied."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" After updating, do not forget to right click on the E2 and save the new code."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Error: no such command: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"test"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="condition">break</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Str</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">(),</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Str</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Str</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">I</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">":"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="function">toChar</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="string">" "</span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"log"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"logs"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">writeLog</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"print"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">3</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"log"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">print</span><span class="symbol">(</span><span class="function">getLog</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"say"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">concmd</span><span class="symbol">(</span><span class="string">"say /y MayOS: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Command</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">5</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"pm"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"msg"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"message"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Ply</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">findPlayerByName</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Ply</span><span class="symbol">:</span><span class="function">isPlayer</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Ply</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"From "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">User</span><span class="symbol">:</span><span class="function">name</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" using MayOS:"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Ply</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Command</span><span class="symbol">:</span><span class="function">replace</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">" "</span></span><span class="symbol">+</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="symbol">+</span><span class="string">" "</span></span><span class="symbol">,</span><span class="string">""</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"- Couldn't find player: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">180</span><span class="symbol">,</span><span class="number">180</span><span class="symbol">),</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper2"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Setup Game "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Command</span><span class="symbol">,</span><span class="space"> </span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Setup Game"</span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"about"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Cmd</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"1"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:15.0px"></span>About: 1/1"</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">150</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" MayOS was originally created as an administrative computer for the Mayor in DarkRP--the name being a combination of Mayor and OS. "</span></span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="string">"However, since v2.0, the focus has shifted more to creating a fun terminal-like experince. "</span></span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="string">"This change came about after the addition of minesweeper and solitaire in the first version. "</span></span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="string">"At that point I was beginning to add a lot more to the system than I had originally intended, and the code became very complicated. "</span></span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="string">"Adding new features had turned into an extensive project, and so I decided to create a new \"</span></span><span class="function">framework</span><span class="space">\</span><span class="string">" for adding features. "</span></span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="string">"Although the second version isn't really designed to be easily modified by you, I may create a future version that is more of a template for your own \"</span></span><span class="variable">MayOS</span><span class="space">\</span><span class="string">"."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">),</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:320.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">" Error: no such command."</span></span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">,</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">keyboardTyped</span><span class="symbol">(</span><span class="variable">NK</span><span class="symbol">,</span><span class="space"> </span><span class="variable">IsHeld</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">NK</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">31</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">NK</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">127</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># normal characters, 32 is space</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">TypePos</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">toChar</span><span class="symbol">(</span><span class="variable">NK</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">TypePos</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">((</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">37</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="comment">#TypeData:length() > 37) {</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">HorizScroll</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">NK</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#Enter</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Login"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Password</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">GuestPW</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Admin"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Password</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Logged in"</span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">setDisplay</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">logData</span><span class="symbol">(</span><span class="string">"pw"</span></span><span class="symbol">,</span><span class="variable">TypeData</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">){</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Kick</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">LastUser</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"UnKick"</span></span><span class="symbol">,</span><span class="number">30</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">""</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">),</span><span class="space"> </span><span class="number">3</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">logData</span><span class="symbol">(</span><span class="string">"cmd"</span></span><span class="symbol">,</span><span class="variable">TypeData</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">doCommand</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="symbol">)</span><span class="space"> <span style="margin-left:15.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"zork"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gzoCommand</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"cheat"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"Go anywhere you'd like."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cheat"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"xyzzy"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"Cheat enabled."</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cheat"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">127</span><span class="symbol">,</span><span class="space"> </span><span class="comment"># backspace</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">TypePos</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">HorizScroll</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">148</span><span class="symbol">,</span><span class="space"> </span><span class="comment"># delete</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="variable">TypePos</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">,</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">37</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">HorizScroll</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">19</span><span class="symbol">,</span><span class="space"> </span><span class="comment"># left</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">TypePos</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">HorizScroll</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">shiftMoving</span><span class="symbol">(-</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gtetDrawBoard</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">shiftTiles</span><span class="symbol">(</span><span class="number">4</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"SpawnTile"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"SpawnLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">20</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#right</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">TypePos</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">37</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">HorizScroll</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">shiftMoving</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gtetDrawBoard</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">shiftTiles</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"SpawnTile"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"SpawnLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">17</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#up</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()-</span><span class="number">19</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Scroll</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">shiftTiles</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"SpawnTile"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"SpawnLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">rotateMoving</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">gtetDrawBoard</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">18</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#down</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Scroll</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"2048"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">shiftTiles</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"SpawnTile"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"SpawnLag"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span><span class="space"> <span style="margin-left:135.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">149</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#home</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">150</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#end</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">37</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">HorizScroll</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()-</span><span class="number">37</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space">  </span><span class="number">9</span><span class="symbol">,</span><span class="space"> </span><span class="comment">#tab</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#addText("1/24/2019 0:36:42 - ElMico attempted password: crap",vec(255),2)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="comment"># & !TypeData:find(" ")) {</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Expl</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Str</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Expl</span><span class="symbol">:</span><span class="function">removeString</span><span class="symbol">(</span><span class="variable">Expl</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Commands"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Commands"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Str</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">TypeData</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Expl</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Expl</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">" "</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Commands"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="variable">TypePos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">default</span><span class="symbol">,</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">print</span><span class="symbol">(_</span><span class="variable">HUD</span><span class="space">_</span><span class="variable">PRINTCONSOLE</span><span class="symbol">,</span><span class="space"> </span><span class="string">"Pressed: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">NK</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">finalGameSetup</span><span class="symbol">(</span><span class="variable">Player</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Player</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"Your Turn"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP YT I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">((</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])*</span><span class="number">205</span><span class="symbol">+</span><span class="number">50</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">function</span><span class="space"> </span><span class="function">void</span><span class="space"> </span><span class="function">pause</span><span class="symbol">(</span><span class="variable">Pause</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Paused"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Pause</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Pause I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">255</span><span class="symbol">*</span><span class="variable">Pause</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#############################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Post-Function Initializations ##########################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#############################################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">runOnKeys</span><span class="symbol">(</span><span class="function">owner</span><span class="symbol">(),</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">runOnChat</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">runOnLast</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">runOnFile</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">runOnHTTP</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">dsJoinGroup</span><span class="symbol">(</span><span class="string">"MayOS v2"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Settings ###############################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">R</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Text</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Data</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"MinSoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">500</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Group Names"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Groups"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Alphas"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">array</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#Data["EGP Show Cursor",number] = 1</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Commands"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"help exit clear kick log say msg update about minesweeper tetris 2048"</span></span><span class="symbol">:</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Commands"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">pushString</span><span class="symbol">(</span><span class="string">"tic tac toe"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Disp</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Game</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Load EGP ############################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Mod"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"models/cheeze/pcb/pcb4.mdl"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">findClipToPlayerProps</span><span class="symbol">(</span><span class="function">owner</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">findByModel</span><span class="symbol">(</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Mod"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">findSortByDistance</span><span class="symbol">(</span><span class="function">entity</span><span class="symbol">():</span><span class="function">pos</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">R</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">findToArray</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Scr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">noentity</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">R</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]:</span><span class="function">type</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"gmod_wire_egp"</span> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]:</span><span class="function">owner</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Scr</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scr</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">noentity</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">hint</span><span class="symbol">(</span><span class="string">"Please spawn an EGP screen."</span></span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">createWire</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">,</span><span class="space"> </span><span class="string">"EGP"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"wirelink"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Load Keyboard #########################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">findByModel</span><span class="symbol">(</span><span class="string">"models/beer/wiremod/keyboard.mdl"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">findSortByDistance</span><span class="symbol">(</span><span class="function">entity</span><span class="symbol">():</span><span class="function">pos</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">R</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">findToArray</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Keyboard</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">noentity</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="variable">R</span><span class="symbol">:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]:</span><span class="function">type</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"gmod_wire_keyboard"</span> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]:</span><span class="function">owner</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Keyboard</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">R</span><span class="symbol">[</span><span class="variable">I</span><span class="symbol">,</span><span class="type">entity</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Keyboard</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">noentity</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">hint</span><span class="symbol">(</span><span class="string">"Please spawn an keyboard."</span></span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">createWire</span><span class="symbol">(</span><span class="variable">Keyboard</span><span class="symbol">,</span><span class="space"> </span><span class="string">"KeysIn"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"wirelink"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">createWire</span><span class="symbol">(</span><span class="variable">Keyboard</span><span class="symbol">,</span><span class="space"> </span><span class="string">"KeyHit"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Memory"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">createWire</span><span class="symbol">(</span><span class="variable">Keyboard</span><span class="symbol">,</span><span class="space"> </span><span class="string">"KeysInUse"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"InUse"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">createWire</span><span class="symbol">(</span><span class="variable">Keyboard</span><span class="symbol">,</span><span class="space"> </span><span class="string">"User"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"User"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="function">createWire</span><span class="symbol">(</span><span class="function">entity</span><span class="symbol">(),</span><span class="space"> </span><span class="string">"Kick"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"Kick"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scr</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="function">noentity</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="function">setPos</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">toWorld</span><span class="symbol">(</span><span class="function">vec</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">12</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="function">setAng</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">toWorld</span><span class="symbol">(</span><span class="function">ang</span><span class="symbol">(-</span><span class="number">90</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">:</span><span class="function">isPlayer</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">runOnKeys</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#### Final Init ##############################################################</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">resetEGP</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Clock"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Login"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">setDisplay</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment"># make the next line ##[ to load directly to a game</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">##[</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">GameToLoad</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"zork"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Logged in"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">setDisplay</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Setup Game "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">GameToLoad</span><span class="symbol">,</span><span class="space"> </span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Setup Game"</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#]#</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="number">9</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">holoCreate</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"MinSoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">pos</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">up</span><span class="symbol">()*</span><span class="number">20</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">holoParent</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"MinSoundI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Scr</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment"># Auto suggest you check for a new update!</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="mlcomment">#[if(daysSince(Update["Updated",string]) > 7) {</span></div><br>
<div><span class="mlcomment"><span style="margin-left:40.0px"></span>Update["ShouldUpdate",number] = 1</span></div><br>
<div><span class="mlcomment"><span style="margin-left:20.0px"></span>}]#</span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#timer("CheckUpdate",10)</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">#<span style="margin-left:110.0px"></span>Timers</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">clk</span><span class="symbol">(</span><span class="function">clkName</span><span class="symbol">()))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="function">clkName</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"Clock"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Clock"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Mayo"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">abs</span><span class="symbol">(</span><span class="space"> </span><span class="symbol">(</span><span class="function">curtime</span><span class="symbol">())</span><span class="space">  </span><span class="symbol">%</span><span class="number">2</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="number">1</span><span class="symbol">)*</span><span class="number">45</span><span class="symbol">-</span><span class="number">22</span><span class="space">.</span><span class="number">5</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Cursor Clock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Cursor Clock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Cursor Clock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space">/</span><span class="number">5</span><span class="symbol">)%</span><span class="number">2</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GearI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="symbol">-</span><span class="function">curtime</span><span class="symbol">()*</span><span class="number">5</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAngle</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GearI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">curtime</span><span class="symbol">()*</span><span class="number">5</span><span class="symbol">*</span><span class="number">2</span><span class="symbol">-</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cheat"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">APos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">69</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">round</span><span class="symbol">(</span><span class="variable">Pos</span><span class="space">/</span><span class="symbol">(</span><span class="number">375</span><span class="space">/</span><span class="number">9</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisP</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Cheat I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">int</span><span class="symbol">(</span><span class="variable">ThisP</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="number">255</span><span class="space"> </span><span class="symbol">:</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"MoveOtherCrap"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="function">setPos</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">toWorld</span><span class="symbol">(</span><span class="function">vec</span><span class="symbol">(</span><span class="number">18</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">12</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Keyboard</span><span class="symbol">:</span><span class="function">setAng</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">toWorld</span><span class="symbol">(</span><span class="function">ang</span><span class="symbol">(-</span><span class="number">90</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">setPos</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">toWorld</span><span class="symbol">(</span><span class="function">vec</span><span class="symbol">(</span><span class="number">12</span><span class="symbol">,</span><span class="number">20</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">entity</span><span class="symbol">():</span><span class="function">setAng</span><span class="symbol">(</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">angles</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"CheckUpdate"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">httpCanRequest</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">httpRequest</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"URL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"CheckUpdate"</span></span><span class="symbol">,</span><span class="number">1000</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"GetUpdate"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">httpCanRequest</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">httpRequest</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewURL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"GetUpdate"</span></span><span class="symbol">,</span><span class="number">1000</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"UnKick"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Kick</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">LastUser</span><span class="symbol">:</span><span class="function">plyApplyForce</span><span class="symbol">(</span><span class="space"> </span><span class="symbol">(</span><span class="variable">LastUser</span><span class="symbol">:</span><span class="function">pos</span><span class="symbol">()-</span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">pos</span><span class="symbol">()):</span><span class="function">setZ</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">):</span><span class="function">normalized</span><span class="symbol">():</span><span class="function">setZ</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)*</span><span class="number">130</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">playSound</span><span class="symbol">(</span><span class="string">"physics/body/body_medium_impact_hard"</span></span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="number">2</span><span class="symbol">+</span><span class="function">randint</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)*</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="string">".wav"</span></span><span class="symbol">,</span><span class="space"> </span><span class="number">500</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Kick</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"ShiftTiles"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Board I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cent"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"SpawnTile"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">addTile</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="function">g2048AnyOpenings</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">g2048CheckGameOver</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"CanShift"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"Game over!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">showTiles</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"Test"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="function">perf</span><span class="symbol">(</span><span class="variable">MP</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">256</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="symbol">+</span><span class="function">toChar</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="symbol">+</span><span class="string">" "</span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T1"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">></span><span class="symbol">=</span><span class="space"> </span><span class="number">512</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"T2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Test"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"Close Game"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">showArrow</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">setDisplay</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Type I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">,</span><span class="space"> </span><span class="number">37</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor Root"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">((</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="symbol">)*</span><span class="number">13</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Game</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"Tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameSpeed"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Paused"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"AddBlock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"AddBlock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="function">gtetAddBlock</span><span class="symbol">(</span><span class="function">randint</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">7</span><span class="symbol">)))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"game over"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"Tetris"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisM</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Moving"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">I</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">vector2</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="comment">#Game["Rows",table][floor(I/Game["Width",number])+1,array][I%Game["Width",number]+1,number]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">ThisM</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Height"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Rows"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="variable">ThisM</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">array</span><span class="symbol">][</span><span class="variable">ThisM</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Hit</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">lowerMoving</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">commitMoving</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"AddBlock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">gtetDrawBoard</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"KeyHold"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">HeldKey</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">31</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">HeldKey</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">127</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">:</span><span class="function">keyPressed</span><span class="symbol">(</span><span class="function">toChar</span><span class="symbol">(</span><span class="variable">HeldKey</span><span class="symbol">)))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"KeyRepeat"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">KeyToCheck</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">toChar</span><span class="symbol">(</span><span class="variable">HeldKey</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">HeldKey</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">127</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># backspace</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">:</span><span class="function">keyPressed</span><span class="symbol">(</span><span class="string">"backspace"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"KeyRepeat"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">KeyToCheck</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"backspace"</span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"KeyRepeat"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">:</span><span class="function">keyPressed</span><span class="symbol">(</span><span class="variable">KeyToCheck</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"KeyRepeat"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">keyboardTyped</span><span class="symbol">(</span><span class="variable">HeldKey</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Cursor Clock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Type I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">,</span><span class="space"> </span><span class="number">37</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor Root"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">((</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="symbol">)*</span><span class="number">13</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"UnloadKeyboard"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="variable">KeysIn</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="function">perf</span><span class="symbol">(</span><span class="variable">MP</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># every time the keyboard says it has key(s) in memory, loop and grab each key</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NK</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">KeysIn</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="space"> </span><span class="comment"># grab the first key, and then clear first key (at the end)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">keyboardTyped</span><span class="symbol">(</span><span class="variable">NK</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">KeysIn</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"KeyHold"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"KeyRepeat"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"KeyHold"</span></span><span class="symbol">,</span><span class="number">750</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">HeldKey</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">NK</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">KeysIn</span><span class="symbol">[</span><span class="number">0</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="space"> </span><span class="comment"># deletes first key from memory of keyboard</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">KeysIn</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Login"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password Chars"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">+</span><span class="number">1</span><span class="space"> </span><span class="symbol"><</span><span class="symbol">=</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">length</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">+</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">I</span><span class="symbol">+</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Password I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment"># Console</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"Cursor Clock"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Type I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">TypeData</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">,</span><span class="space"> </span><span class="number">37</span><span class="symbol">+</span><span class="variable">HorizScroll</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Cursor Root"</span></span><span class="symbol">,</span><span class="type">vector</span><span class="number">2</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">vec2</span><span class="symbol">((</span><span class="variable">TypePos</span><span class="symbol">-</span><span class="variable">HorizScroll</span><span class="symbol">)*</span><span class="number">13</span><span class="symbol">,</span><span class="space"> </span><span class="number">0</span><span class="symbol">))</span><span class="comment">#vec2(30+TypePos*16, 512-22))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"UnloadKeyboard"</span></span><span class="symbol">,</span><span class="number">50</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"SendUID"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="string">"UID"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">UID</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span><span class="space"> </span><span class="condition">case</span><span class="space"> </span><span class="string">"DoStack"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">RI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Root Tile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">while</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="function">perf</span><span class="symbol">(</span><span class="variable">MP</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">P</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">popVector2</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="comment">#inrange(P,vec2(0,0),vec2(9,9))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Checked"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="string">","</span></span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="symbol">(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">>-</span><span class="number">1</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">>-</span><span class="number">1</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">10</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">C</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">gmsCountMines</span><span class="symbol">(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">C</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">RI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/gradient_up"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">Y</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">),</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">9</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">X</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">,</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">9</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">=</span><span class="symbol">=</span><span class="number">0</span><span class="symbol">&</span><span class="variable">Y</span><span class="symbol">=</span><span class="symbol">=</span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="condition">continue</span><span class="space"> </span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Checked"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">""</span></span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">X</span><span class="symbol">)</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">+</span><span class="string">","</span></span><span class="symbol">+</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">(</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">Y</span><span class="symbol">)</span><span class="space"> <span style="margin-left:10.0px"></span></span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="variable">P</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="variable">X</span><span class="symbol">,</span><span class="variable">Y</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">RI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/gradient_up"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">200</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">C</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">200</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span><span class="symbol">,</span><span class="space"> </span><span class="function">gmsMineNumCol</span><span class="symbol">(</span><span class="variable">C</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Checked"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="string">","</span></span><span class="symbol">+</span><span class="variable">P</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"DoStack"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"DoStack"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">default</span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Clk</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">clkName</span><span class="symbol">():</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Clk</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"StopSound"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">N</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Clk</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">soundStop</span><span class="symbol">(</span><span class="variable">N</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"Setup"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Clk</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">setupGame</span><span class="symbol">(</span><span class="function">clkName</span><span class="symbol">()))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">showArrow</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="function">clkName</span><span class="symbol">(),</span><span class="space"> </span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"LoadFile"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">fileCanLoad</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Str</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">clkName</span><span class="symbol">():</span><span class="function">explode</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Str</span><span class="symbol">:</span><span class="function">removeString</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">fileLoad</span><span class="symbol">(</span><span class="variable">Str</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">hint</span><span class="symbol">(</span><span class="string">"Loading "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Str</span><span class="symbol">:</span><span class="function">concat</span><span class="symbol">(</span><span class="string">" "</span></span><span class="symbol">),</span><span class="space"> </span><span class="number">7</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="function">clkName</span><span class="symbol">(),</span><span class="number">1000</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">#<span style="margin-left:110.0px"></span>Inputs</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">inputClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># if updated by an input</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">KeyHit</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="space">~</span><span class="variable">KeyHit</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">stoptimer</span><span class="symbol">(</span><span class="string">"UnloadKeyboard"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"UnloadKeyboard"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="space">~</span><span class="variable">KeysInUse</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">KeysInUse</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">sendPlyName</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">:</span><span class="function">name</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="comment">#Game["Paused",number] = 0</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">pause</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">LastWep</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span><span class="symbol">:</span><span class="function">weapon</span><span class="symbol">():</span><span class="function">type</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">plySelectWeapon</span><span class="symbol">(</span><span class="string">"keys"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">runOnKeys</span><span class="symbol">(</span><span class="variable">User</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">LastUser</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">sendPlyName</span><span class="symbol">(</span><span class="string">"null"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="comment">#Game["Paused",number] = 1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">pause</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">LastUser</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">runOnKeys</span><span class="symbol">(</span><span class="variable">LastUser</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">LastWep</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">LastUser</span><span class="symbol">:</span><span class="function">plySelectWeapon</span><span class="symbol">(</span><span class="variable">LastWep</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">LastWep</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">""</span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">#<span style="margin-left:75.0px"></span>Keystrokes (mostly non-wire keyboard)</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment">#if updated by a key pressed</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Console"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"ShowCons"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_wheel_up"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="variable">Text</span><span class="symbol">[</span><span class="string">"Text"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()-</span><span class="number">19</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Scroll</span><span class="symbol">+</span><span class="symbol">+</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_wheel_down"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Scroll</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Scroll</span><span class="symbol">--</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Disp</span><span class="symbol">[</span><span class="string">"Mode"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"Game"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">HitButton</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_left"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">APos</span><span class="symbol">:</span><span class="function">distance</span><span class="symbol">(</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Exit I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">20</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># quit</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="comment">#hint("quit",5)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"Close Game"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">sendQuit</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">HitButton</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">APos</span><span class="symbol">:</span><span class="function">distance</span><span class="symbol">(</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Reset I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]))</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">20</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># reset</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">resetGame</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="function">sendReset</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="variable">HitButton</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">HitButton</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"minesweeper"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"d"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="comment">#print(EGP:egpCursor(keyClk()))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">APos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">69</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">round</span><span class="symbol">(</span><span class="variable">Pos</span><span class="space">/</span><span class="symbol">(</span><span class="number">375</span><span class="space">/</span><span class="number">9</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ThisP</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">ThisP</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="comment">#print(Pos)</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"DoStack"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_left"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">APos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">69</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">round</span><span class="symbol">(</span><span class="variable">Pos</span><span class="space">/</span><span class="symbol">(</span><span class="number">375</span><span class="space">/</span><span class="number">9</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">RI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Root Tile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"MinesPoss"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]:</span><span class="function">count</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="function">gmsPlaceMines</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="comment">#if you hit the board and you aren't clicking a flag</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">inrange</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">9</span><span class="symbol">))</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">RI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">NPos</span><span class="symbol">)!</span><span class="symbol">=</span><span class="space"> </span><span class="string">"gui/gradient_up"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpMaterial</span><span class="symbol">(</span><span class="variable">RI</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">NPos</span><span class="symbol">,</span><span class="space"> </span><span class="string">"gui/gradient_up"</span></span><span class="symbol">)</span><span class="space"> </span><span class="comment"># "reveal"</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">100</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">NPos</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">300</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Count</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">gmsCountMines</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">(),</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Count</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">Count</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">200</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="space"> </span><span class="function">gmsMineNumCol</span><span class="symbol">(</span><span class="variable">Count</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">100</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Checked"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">table</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Checked"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">][</span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="symbol">+</span><span class="string">","</span></span><span class="symbol">+</span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">(),</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Stack"</span></span><span class="symbol">,</span><span class="type">table</span><span class="symbol">]:</span><span class="function">pushVector2</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">+</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">1</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"DoStack"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"DoStack"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_right"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span><span class="space">  </span><span class="comment">#gui/legs1</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">APos</span><span class="symbol">-</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">69</span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Pos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">round</span><span class="symbol">(</span><span class="variable">Pos</span><span class="space">/</span><span class="symbol">(</span><span class="number">375</span><span class="space">/</span><span class="number">9</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">NPos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">x</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Pos</span><span class="symbol">:</span><span class="function">y</span><span class="symbol">()*</span><span class="number">10</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">RI</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Root Tile"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">inrange</span><span class="symbol">(</span><span class="variable">Pos</span><span class="symbol">,</span><span class="function">vec2</span><span class="symbol">(),</span><span class="function">vec2</span><span class="symbol">(</span><span class="number">9</span><span class="symbol">)))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># flag was off</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">0</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="number">0</span><span class="space">.</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="symbol">}</span><span class="space"> </span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">0</span><span class="space">.</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:280.0px"></span></span><span class="comment">#print(Game["Tiles",array][NPos,number])</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># flag was on</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">-</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">int</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Tiles"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="variable">NPos</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="function">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:260.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpAlpha</span><span class="symbol">(</span><span class="variable">RI</span><span class="symbol">+</span><span class="number">400</span><span class="symbol">+</span><span class="variable">NPos</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:240.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:220.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"FlagTextI"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">":"</span> </span><span class="symbol">+</span><span class="space"> </span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="number">10</span><span class="space"> </span><span class="symbol">?</span><span class="space"> </span><span class="string">"0"</span> </span><span class="symbol">:</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Flags"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_right"</span> </span><span class="symbol">|</span><span class="space"> </span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_left"</span></span><span class="symbol">))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="mlcomment">#[local FlaggedMines = 0</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>for(I = 1, Game["MinesPoss",array]:count()) {</span></div><br>
<div><span class="mlcomment"><span style="margin-left:200.0px"></span>local M = Game["MinesPoss",array][I,vector2]</span></div><br>
<div><span class="mlcomment"><span style="margin-left:200.0px"></span>if(Game["Tiles",array][M:x() + M:y()*10+1,number] == -1.1) {</span></div><br>
<div><span class="mlcomment"><span style="margin-left:220.0px"></span>FlaggedMines++</span></div><br>
<div><span class="mlcomment"><span style="margin-left:200.0px"></span>}</span></div><br>
<div><span class="mlcomment"><span style="margin-left:180.0px"></span>}]#</span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="comment">#FlaggedMines == Game["Flags",number] & FlaggedMines == Game["Mines",number] & </span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cleared"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Mines"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="number">10</span><span class="symbol">*</span><span class="number">10</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Gameover"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">User</span><span class="symbol">:</span><span class="function">sendMessage</span><span class="symbol">(</span><span class="string">"you win!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tetris"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="comment">#Game["EGP Box I",number]</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">keyClkPressed</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"mouse_left"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">APos</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpCursor</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">())</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="condition">if</span><span class="symbol">(!</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"GameOver"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">ShortDist</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">100000</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="symbol">-</span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">for</span><span class="symbol">(</span><span class="variable">I</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="number">9</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">Dist</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">APos</span><span class="symbol">:</span><span class="function">distance</span><span class="symbol">(</span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpPos</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Box I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="variable">I</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">))</span><span class="space"> </span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Dist</span><span class="space"> </span><span class="symbol"><</span><span class="space"> </span><span class="variable">ShortDist</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">ShortDist</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Dist</span></div><br>
<div><span class="space"><span style="margin-left:200.0px"></span></span><span class="variable">Hit</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">I</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">placePiece</span><span class="symbol">(</span><span class="variable">Hit</span><span class="symbol">,</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Cheat"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="string">"tic tac toe "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span></span><span class="symbol">+</span><span class="variable">Hit</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:180.0px"></span></span><span class="function">checkGameOver</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:160.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:140.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="symbol">}</span><span class="space"> <span style="margin-left:10.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">keyClk</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="function">owner</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="function">owner</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">!</span><span class="symbol">=</span><span class="space"> </span><span class="variable">User</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">#<span style="margin-left:110.0px"></span>Chat commands</span></div><br>
<div><span class="space"></span><span class="comment">#</span></div><br>
<div><span class="space"></span><span class="comment">####################################################################################</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">chatClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># if updated by chat</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">chatClk</span><span class="symbol">(</span><span class="function">owner</span><span class="symbol">()))</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">local</span><span class="space"> </span><span class="variable">LS</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">lastSaid</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">LS</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">5</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"!cmd "</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"Remote command: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">LS</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">6</span><span class="symbol">),</span><span class="function">vec</span><span class="symbol">(</span><span class="number">255</span><span class="symbol">),</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">doCommand</span><span class="symbol">(</span><span class="variable">LS</span><span class="symbol">:</span><span class="function">sub</span><span class="symbol">(</span><span class="number">6</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="variable">LS</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"!summon"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">setPos</span><span class="symbol">(</span><span class="function">owner</span><span class="symbol">():</span><span class="function">shootPos</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">owner</span><span class="symbol">():</span><span class="function">eyeAngles</span><span class="symbol">():</span><span class="function">setPitch</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">):</span><span class="function">forward</span><span class="symbol">()*</span><span class="number">40</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Scr</span><span class="symbol">:</span><span class="function">setAng</span><span class="symbol">(</span><span class="function">owner</span><span class="symbol">():</span><span class="function">eyeAngles</span><span class="symbol">():</span><span class="function">setPitch</span><span class="symbol">(</span><span class="number">90</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="function">ang</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="number">180</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"MoveOtherCrap"</span></span><span class="symbol">,</span><span class="number">100</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">fileClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">dsClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="comment">#print(entity():id() + "Datasig: " + dsClkName() + " " + dsGetString())</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">dsClkName</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">UID</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">dsGetString</span><span class="symbol">():</span><span class="function">sub</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">,</span><span class="number">2</span><span class="symbol">)</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"n:"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Opp I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP Opp I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="string">"Opponent: "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="function">dsGetString</span><span class="symbol">():</span><span class="function">sub</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">])</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="string">"tic tac toe"</span></span><span class="symbol">,</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">dsGetString</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="comment">#timer("Close Game",100)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="comment">#addText("Other player quit the game.",vec(200))</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Player"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"StartTurn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">2</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Wins"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Losses"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">0</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP WL I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="string">"W: 0"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpSetText</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"EGP WL I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">,</span><span class="space"> </span><span class="string">"L: 0"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">resetGame</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">dsGetString</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"reset"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">resetGame</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">placePiece</span><span class="symbol">(</span><span class="function">dsGetString</span><span class="symbol">():</span><span class="function">toNumber</span><span class="symbol">(),</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Turn"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:120.0px"></span></span><span class="function">checkGameOver</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:100.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">dsClkName</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"findgame"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="comment">#dsSend("gameon", "MayOS v2", "" + (dsGetString() == Game["Name",string]) )</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="function">dsGetString</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="string">"UID"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">UID</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#timer("SendUID",1000)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">dsClkName</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"UID"</span> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">dsGetString</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="string">"UID Return"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">""</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">UID</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">finalGameSetup</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">dsClkName</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"UID Return"</span> </span><span class="symbol">&</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="symbol">=</span><span class="space"> </span><span class="string">"null"</span></span><span class="symbol">)</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">dsGetString</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="function">finalGameSetup</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">httpClk</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="condition">switch</span><span class="symbol">(</span><span class="function">httpRequestUrl</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"URL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateInfo"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">httpData</span><span class="symbol">():</span><span class="function">explode</span><span class="symbol">(</span><span class="string">"\n"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">if</span><span class="symbol">(</span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateInfo"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">1</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">toNumber</span><span class="symbol">()</span><span class="space"> </span><span class="symbol">></span><span class="space"> </span><span class="variable">Version</span><span class="symbol">:</span><span class="function">toNumber</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span><span class="space"> <span style="margin-left:75.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewURL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateInfo"</span></span><span class="symbol">,</span><span class="type">array</span><span class="symbol">][</span><span class="number">2</span><span class="symbol">,</span><span class="function">string</span><span class="symbol">]:</span><span class="function">trim</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">timer</span><span class="symbol">(</span><span class="string">"GetUpdate"</span></span><span class="symbol">,</span><span class="number">10</span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="condition">else</span><span class="space"> </span><span class="symbol">{</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"<span style="margin-left:10.0px"></span>No new update available."</span></span><span class="symbol">,</span><span class="function">vec</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:80.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">case</span><span class="space"> </span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewURL"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">addText</span><span class="symbol">(</span><span class="string">"A new update is available!"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="function">updateConsole</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"NewE2"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="function">httpData</span><span class="symbol">()</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="comment">#Update["NewE2",string] = Update["NewE2",string]:sub(1,10000):replace("Update[\"Updated\",string] = \"\"", "Update[\"Updated\",string] = \"" + dateOnly() + "\"")</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">Update</span><span class="symbol">[</span><span class="string">"UpdateAvail"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">=</span><span class="space"> </span><span class="number">1</span></div><br>
<div><span class="space"><span style="margin-left:60.0px"></span></span><span class="variable">EGP</span><span class="symbol">:</span><span class="function">egpColor</span><span class="symbol">(</span><span class="variable">Data</span><span class="symbol">[</span><span class="string">"EGP Version I"</span></span><span class="symbol">,</span><span class="type">number</span><span class="symbol">],</span><span class="space"> </span><span class="function">vec</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">))</span></div><br>
<div><span class="space"><span style="margin-left:40.0px"></span></span><span class="condition">break</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span><span class="condition">elseif</span><span class="symbol">(</span><span class="function">last</span><span class="symbol">())</span><span class="space"> </span><span class="symbol">{</span><span class="space"> </span><span class="comment"># if it is the last tick of the E2 before removal</span></div><br>
<div><span class="space"><span style="margin-left:20.0px"></span></span><span class="function">dsSend</span><span class="symbol">(</span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Name"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">]</span><span class="space"> </span><span class="symbol">+</span><span class="space"> </span><span class="string">" "</span> </span><span class="symbol">+</span><span class="space"> </span><span class="variable">Game</span><span class="symbol">[</span><span class="string">"Friend UID"</span></span><span class="symbol">,</span><span class="type">string</span><span class="symbol">],</span><span class="space"> </span><span class="string">"MayOS v2"</span></span><span class="symbol">,</span><span class="space"> </span><span class="string">"quit"</span></span><span class="symbol">)</span></div><br>
<div><span class="space"></span><span class="symbol">}</span></div><br>
<div><span class="space"></span></div>

<!--
The remainder of the document is part of the base header template
-->


    </body>
</html>
